<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動詞の活用練習（過去形・過去分詞）</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>


    <h1 id="pageTitle">読み込み中...</h1>

    <div class="controls">
        <div class="level-group">
            <button class="level-btn active" onclick="app.setDifficulty(1)">Level 1</button>
            <button class="level-btn" onclick="app.setDifficulty(2)">Level 2</button>
            <button class="level-btn" onclick="app.setDifficulty(3)">Level 3</button>
        </div>

        <div class="mode-group">
            <label class="mode-label">
                <input type="radio" name="mode" value="basic" checked onchange="app.changeMode()">
                基本
            </label>
            <label class="mode-label">
                <input type="radio" name="mode" value="full" onchange="app.changeMode()">
                すべて
            </label>
        </div>

        <div class="row-limit-group">
            <span>出題数:</span>
            <button class="row-count-btn" data-count="10" onclick="app.setRowCount(10)">10問</button>
            <button class="row-count-btn" data-count="20" onclick="app.setRowCount(20)">20問</button>
            <!-- <button class="row-count-btn" data-count="30" onclick="app.setRowCount(30)">30問</button> -->
            <!-- <button class="row-count-btn" data-count="0" onclick="app.setRowCount(0)">全問</button> -->
        </div>
    </div>

    <div id="messageArea"></div>
    <div class="description-box">
        正しい答えが複数ある場合は、どれか1つを入力してください。 
    </div>

    <div class="table-container">
        <table id="quizTable"></table>
    </div>

    <div class="btn-container">
        <button id="checkBtn" class="action-btn" onclick="app.checkAnswers()">答え合わせ</button>
        <button id="retrySameBtn" class="action-btn hidden" onclick="app.resetQuiz(true)">
            同じ問題<!--  style="background-color: #17a2b8;"-->
        </button>
        <button id="nextBtn" class="action-btn hidden" onclick="app.resetQuiz(false)">
            次の問題 ➔
        </button>
    </div>
    <div class="description-box">
    【仕様説明】
        ページの再読み込み（リロード）で空欄は再配置されます。<br>
        Levelが上がると空欄が作られやすくなるように設定しています。   
    </div>

    <div class="navToIndex">
        <a href="./index.html">← メニューに戻る</a>
    </div>

    <script src="./app.js"></script>

    <script>


        const quizData = {
            id: "irregular_verbs_v1", // localStorage保存用のユニークID
            title: "動詞の活用練習（過去形・過去分詞）",
            allColHeaders: ["過去形", "過去分詞"],
            // 行数制限機能の有効化
            enableRowSelection: true,
            defaultRowCount: 10, // デフォルトで10問表示
            // ヘッダー定義
            rowHeaders: [
                // --- 既存の不規則動詞 ---
                "go（行く）", "see（見る）", "buy（買う）", "take（取る）", 
                "come（来る）", "know（知る）", "speak（話す）", "write（書く）",
                "give（与える）", "eat（食べる）", "make（作る）", "think（考える）",
                "begin（始める）", "run（走る）", "break（壊す）", "teach（教える）",
                "catch（捕まえる）", "choose（選ぶ）", "drink（飲む）", "drive（運転する）",
                "fall（落ちる）", "fly（飛ぶ）", "grow（成長する）",
                "hear（聞く）", "keep（保つ）", "leave（去る）", "lose（失う）",
                "meet（会う）", "pay（払う）", "ride（乗る）", "sing（歌う）",
                "sit（座る）", "sleep（眠る）", "stand（立つ）", "swim（泳ぐ）",
                "tell（話す）", "understand（理解する）", "wear（着る）",
                "win（勝つ）", "bring（持ってくる）", "build（建てる）", "cut（切る）",
                "do（する）", "draw（描く）", "feel（感じる）", "find（見つける）",
                "have（持っている）", "put（置く）", "read（読む）",
                "say（言う）", "sell（売る）", "send（送る）",
                // --- 紛らわしい動詞（一部規則含む） ---
                "lie（嘘をつく）", "lie（横になる）", "lay（置く）", "cost（費用がかかる）",
                // ---複数正解がある動詞 ---
                "show（見せる）",             // showed / shown
                "prove（証明する）",           // proved / proven
                "get（手に入れる）",           // got / gotten
                "learn（学ぶ）",              // learned / learnt
                "dream（夢を見る）",           // dreamed / dreamt
                "burn（燃える・燃やす）",      // burned / burnt
                "smell（匂う）",              // smelled / smelt
                "spell（つづる）",            // spelled / spelt
                "spill（こぼす）",            // spilled / spilt
                // --- 規則動詞パターン演習 ---
                "watch（見る）",              // そのままed
                "use（使う）",                // eで終わる (+d)
                "hope（望む）",               // eで終わる (+d)
                "try（試みる）",              // 子音字+y (y->i +ed)
                "study（勉強する）",          // 子音字+y (y->i +ed)
                "stop（止まる）",             // 短母音+子音字 (重ねてed)
                "drop（落とす）",             // 短母音+子音字 (重ねてed)
                "plan（計画する）"            // 短母音+子音字 (重ねてed)
            ],
            // データ定義
            allData: [
                // --- 既存の不規則動詞データ ---
                ["went", "gone"], ["saw", "seen"], ["bought", "bought"], ["took", "taken"],
                ["came", "come"], ["knew", "known"], ["spoke", "spoken"], ["wrote", "written"],
                ["gave", "given"], ["ate", "eaten"], ["made", "made"], ["thought", "thought"],
                ["began", "begun"], ["ran", "run"], ["broke", "broken"], ["taught", "taught"],
                ["caught", "caught"], ["chose", "chosen"], ["drank", "drunk"], ["drove", "driven"],
                ["fell", "fallen"], ["flew", "flown"], ["grew", "grown"],
                ["heard", "heard"], ["kept", "kept"], ["left", "left"], ["lost", "lost"],
                ["met", "met"], ["paid", "paid"], ["rode", "ridden"], ["sang", "sung"],
                ["sat", "sat"], ["slept", "slept"], ["stood", "stood"], ["swam", "swum"],
                ["told", "told"], ["understood", "understood"], ["wore", "worn"],
                ["won", "won"], ["brought", "brought"], ["built", "built"], ["cut", "cut"],
                ["did", "done"], ["drew", "drawn"], ["felt", "felt"], ["found", "found"],
                ["had", "had"], ["put", "put"], ["read", "read"],
                ["said", "said"], ["sold", "sold"], ["sent", "sent"], 
                // --- 紛らわしい動詞 ---
                ["lied", "lied"],     // 嘘をつく（規則：ieで終わる扱いでdのみ）
                ["lay", "lain"],      // 横になる
                ["laid", "laid"],     // 置く
                ["cost", "cost"],    // 費用がかかる
                // --- 【新規追加】複数正解がある動詞 ---
                [ "showed",         "shown/showed"],      // 過去分詞が2つ
                ["proved",         "proved/proven"],     // 過去分詞が2つ
                [  "got",            "gotten/got"],        // 米:gotten 英:got
                ["learned/learnt", "learned/learnt"],    // edとtの両方あり
                ["dreamed/dreamt", "dreamed/dreamt"],    // edとtの両方あり
                [ "burned/burnt",   "burned/burnt"],      // edとtの両方あり
                ["smelled/smelt",  "smelled/smelt"],     // edとtの両方あり
                ["spelled/spelt",  "spelled/spelt"],     // edとtの両方あり
                ["spilled/spilt",  "spilled/spilt"],     // edとtの両方あり
                // --- 規則動詞パターン演習 ---
                ["watched", "watched"], // そのままed
                [  "used",    "used"],    // eで終わる
                [ "hoped",   "hoped"],   // eで終わる
                [  "tried",   "tried"],   // y -> ied
                ["studied", "studied"], // y -> ied
                [ "stopped", "stopped"], // 重ねてed
                [ "dropped", "dropped"], // 重ねてed
                [ "planned", "planned"]  // 重ねてed
            ],
            // 【オプション】表示列数モード切替を隠す
            disableModeSelection: true,
            // 【オプション】難易度ごとの穴埋め率 (0.0 ～ 1.0)
            // Level 1でも半分(0.5)隠す、Level 3は9割(0.9)隠す、などの設定が可能
            difficultyRates: { 1: 0.2, 2: 0.35, 3: 0.5 },

            // 【機能1】各行の穴埋め対象セルが空欄だけになることを許可するか？
            // Level 1: 禁止 (false) 
            // Level 2, 3: 許可 (true)：デフォルト
            allowFullRowBlanks: { 1: false, 2: true, 3: true },

            // 【機能2】各行、最低でも何個は空欄にするか？
            // Level 1, 2: 制限なし（確率次第で0個もありうる）
            // Level 3: 必ず1個以上は空欄にする
            minBlanks: { 1: 0, 2: 0, 3: 1 },
            // 穴埋めしない列を記述
            noQuizColumns: []
        };
        
        app.init(quizData);
    </script>
</body>
</html>
